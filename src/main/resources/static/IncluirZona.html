<!DOCTYPE html> JSON
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Teste Incluir de Zona</title>
</head>

<body>
<h2>Teste de Zona</h2>
<!--<br />Zona: <input id="name">-->
<br />Zona: <input id="blz">

<br /><input type="button" value="Incluir Zona" onclick="enviar()">
<!--<br /><input type="button" value="Listar" onclick="exibirPessoasHTML()">-->
<!--<a href="PessoaListar.html">Listar Vendedor</a>-->
<script>
       function enviar() {
            var obj = {nomeZona:blz.value, secoes: [], urnas:[], candidatos:[] };
            var json = JSON.stringify(obj);
            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    let retorno = JSON.parse(this.responseText);
                    if (retorno.id != null) {
                        alert("Incluido com sucesso. ID" + retorno.id);
                    } else {
                        alert("Erro ao incluir!");
                    }
                }
            };
            xhttp.open("POST", "/zona", true);
            xhttp.setRequestHeader("Content-Type", "application/json");
            xhttp.send(json);
        }


    </script>
</body>

</html>